{% extends 'base.html' %}
{% block content %}

<style>
.leaderboard-container{
    max-width:1000px;
    margin:40px auto;
}
.leaderboard-header{
    background:linear-gradient(135deg,#667eea,#764ba2);
    padding:30px;
    border-radius:25px;
    color:white;
    text-align:center;
    box-shadow:0 10px 25px rgba(0,0,0,.25);
}
.leaderboard-header h2{font-size:32px;margin:0}
.leaderboard-card{
    background:white;
    margin-top:25px;
    border-radius:20px;
    padding:25px;
    box-shadow:0 10px 30px rgba(0,0,0,.08);
}
.user-row{
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:18px;
    border-radius:15px;
    margin-bottom:15px;
    transition:.3s;
}
.user-row:hover{background:#eef2ff; transform:scale(1.01);}
.rank{
    font-size:22px;
    font-weight:700;
    width:50px;
}
.username{
    font-size:18px;
    font-weight:600;
}
.score-badge{
    background:#6366f1;
    color:white;
    padding:10px 22px;
    border-radius:30px;
    font-weight:600;
}
.top1{background:linear-gradient(135deg,#facc15,#f97316);}
.top2{background:linear-gradient(135deg,#d1d5db,#9ca3af);}
.top3{background:linear-gradient(135deg,#f59e0b,#b45309);}
</style>

<div class="leaderboard-container">

<div class="leaderboard-header">
    <h2>üèÜ Global Leaderboard</h2>
    <p>Top performing students</p>
</div>

<div class="leaderboard-card">

{% for user in leaderboard %}
<div class="user-row">
    <div class="rank">
        {% if forloop.counter == 1 %}ü•á
        {% elif forloop.counter == 2 %}ü•à
        {% elif forloop.counter == 3 %}ü•â
        {% else %}#{{ forloop.counter }}{% endif %}
    </div>

    <div class="username">{{ user.username }}</div>

    <div class="score-badge {% if forloop.counter == 1 %}top1{% elif forloop.counter == 2 %}top2{% elif forloop.counter == 3 %}top3{% endif %}">
        {{ user.score }} pts
    </div>
</div>
{% empty %}
<p>No data yet</p>
{% endfor %}

</div>
</div>

<a href="{% url 'student_dashboard' %}" class="btn" style="margin: 40px auto; display: block; ">Back</a>

{% endblock %}
